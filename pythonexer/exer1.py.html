<html>
<head>
<title>exer1.py</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #cc7832;}
.s1 { color: #a9b7c6;}
.s2 { color: #808080;}
.s3 { color: #6a8759;}
.s4 { color: #6897bb;}
</style>
</head>
<body bgcolor="#2b2b2b">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
exer1.py</font>
</center></td></tr></table>
<pre><span class="s0">import </span><span class="s1">random</span>
<span class="s0">import </span><span class="s1">string</span>
<span class="s2">#练习一：1.随机数采样的函数封装 如何合理使用函数的参数进行动态的调用（datasampling）</span>
<span class="s2"># 参数封装要采用kwargs</span>
<span class="s2"># 给出任意一层结构下的随机数生成（任意给一个集合  按数量生成相应的随机数）至少保证给出的案例能成功运行</span>

<span class="s0">def </span><span class="s1">generate_data(**kwargs):</span>
    <span class="s1">result = []</span>
    <span class="s0">for </span><span class="s1">index </span><span class="s0">in </span><span class="s1">range(kwargs[</span><span class="s3">'num'</span><span class="s1">]):</span>
        <span class="s1">element = []</span>
        <span class="s0">for </span><span class="s1">key</span><span class="s0">, </span><span class="s1">value </span><span class="s0">in </span><span class="s1">kwargs[</span><span class="s3">'struct'</span><span class="s1">].items():</span>
            <span class="s0">if </span><span class="s1">key == int:</span>
                <span class="s1">it = iter(value[</span><span class="s3">'datarange'</span><span class="s1">])</span>
                <span class="s1">tmp = random.randint(next(it)</span><span class="s0">, </span><span class="s1">next(it))</span>
            <span class="s0">elif </span><span class="s1">key == float:</span>
                <span class="s1">it = iter(value[</span><span class="s3">'datarange'</span><span class="s1">])</span>
                <span class="s1">tmp = random.uniform(next(it)</span><span class="s0">, </span><span class="s1">next(it))</span>
            <span class="s0">elif </span><span class="s1">key == str:</span>
                <span class="s1">tmp = </span><span class="s3">''</span><span class="s1">.join(random.SystemRandom().choice(value[</span><span class="s3">'datarange'</span><span class="s1">]) </span><span class="s0">for </span><span class="s1">_ </span><span class="s0">in </span><span class="s1">range(value[</span><span class="s3">'len'</span><span class="s1">]))</span>
            <span class="s0">else</span><span class="s1">:</span>
                <span class="s0">break</span>
            <span class="s1">element.append(tmp)</span>
        <span class="s1">result.append(element)</span>
    <span class="s0">return </span><span class="s1">result</span>

<span class="s1">test_dict = {</span>
    <span class="s3">&quot;num&quot;</span><span class="s1">: </span><span class="s4">3</span><span class="s0">,</span>
    <span class="s3">&quot;struct&quot;</span><span class="s1">: {</span>
        <span class="s1">int: {</span><span class="s3">&quot;datarange&quot;</span><span class="s1">: [</span><span class="s4">1</span><span class="s0">, </span><span class="s4">10</span><span class="s1">]}</span><span class="s0">,</span>
        <span class="s1">float: {</span><span class="s3">&quot;datarange&quot;</span><span class="s1">: [</span><span class="s4">1.0</span><span class="s0">, </span><span class="s4">10.0</span><span class="s1">]}</span><span class="s0">,</span>
        <span class="s1">str: {</span><span class="s3">&quot;datarange&quot;</span><span class="s1">: string.ascii_letters</span><span class="s0">, </span><span class="s3">&quot;len&quot;</span><span class="s1">: </span><span class="s4">10</span><span class="s1">}</span>
    <span class="s1">}</span>
<span class="s1">}</span>
<span class="s1">result = generate_data(**test_dict)</span>
<span class="s1">print(result)</span></pre>
</body>
</html>